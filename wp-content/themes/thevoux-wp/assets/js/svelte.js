"use strict";function _toArray(e){return Array.isArray(e)?e:Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.Homepolish=Object.assign({},window.Homepolish||{},{config:{env:"production"},Api:{},_Redux:{Actions:{Helpers:{}},Reducers:{Helpers:{}}},Constants:{},Components:{_Containers:{},icons:{}},Utils:{}}),function(e,t){e.CoreApi={},e.Analytics={Invoices:{},Projects:{},Proposals:{},Tags:{},Users:{},Payments:{},ShoppingList:{}},e.mediator=new t}(window.Hive=window.Hive||{},Mediator),function(e){var t={registry:{},register:function(e,t,n){this.registry[e]||(this.registry[e]={}),this.registry[e][t]||(this.registry[e][t]=[]),this.registry[e][t].push(n)},setupListeners:function(e,t){this._listen(this._lookup([e,t],this.registry)),this._listen(this._lookup([e,"all"],this.registry))},_listen:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=_toArray(e),n=t[0],i=t.slice(1);return n&&n.init(),!(i.length>0)||this._listen(i)},_lookup:function(e,t){var n=_toArray(e),i=n[0],a=n.slice(1);return a.length>0?this._lookup(a,t[i]||{}):t[i]}};document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("body"),n=e.dataset,i=n.controller,a=n.action;t.setupListeners(i,a)}),e.EventRegistry=t}(Hive.Analytics),function(e){var t=function(e,t){var n={data:{type:"analytics",attributes:{name:e,schema:t}}};return new window.Request("/v2/analytics",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})};e.send=function(e,n){return window.fetch(t(e,n))}}(Hive.Analytics),function(e,t){e.baseEvent={name:"",selector:"",browserEvent:"",exclude:null,dataCallback:void 0,maxCalls:null,data:function(){var e=this.dataCallback,t=void 0===e?function(){return null}:e;return t.bind(this)},init:function(){var e=new t(document.body);e.on(this.browserEvent,this.selector,this.fire.bind(this)),this.calls=0},fire:function(t){return!(this.maxCalls&&this.maxCalls<=this.calls)&&(!this._isExcluded(t.target,this.currentTarget(t))&&(this.calls+=1,t.data=this.data(),e.send(this.name,this.schema(t))))},schema:function(e){return Object.assign({},this.eventProperties(e),this.eventOptions(e))},eventProperties:function(e){return e.data(this.currentTarget(e))||this.currentTarget(e).dataset.properties||{}},eventOptions:function(e){var t=this.currentTarget(e).dataset.userId;return t?{user_id:t}:{}},_isExcluded:function(e,t){return!!_.isFunction(this.exclude)&&this.exclude.call(this,e,t)},currentTarget:function(e){return e.target.matches(this.selector)?e.target:e.target.closest(this.selector)},queryParams:function(){var e=arguments.length<=0||void 0===arguments[0]?window.location.search:arguments[0];return e.replace(/^\?/,"").split("&").filter(function(e){return""!==e}).map(function(e){return e.split("=")}).reduce(function(e,t){return e[decodeURIComponent(t[0])]=decodeURIComponent((t[1]||"").replace(/\+/g," ")),e},{})}}}(Hive.Analytics,domDelegate.Delegate),function(e){var t=e.Invoices,n=e.EventRegistry,i=e.baseEvent;t.clickAdjustHoursCancelEvent=Object.assign({},i,{name:"hive project monies adjustHoursCancel",init:function(){Hive.mediator.subscribe("events:invoices",this._handleAdjustHoursCancel.bind(this),{predicate:function(e){var t=e.action,n=e.type;return"adjustHours"===t&&"cancel"===n}})},dataCallback:function(e){var t=e.dataset;t=void 0===t?{}:t;var n=t.clientHours,i=t.designerHours;return{client_hours:n,designer_hours:i,slug:this.queryParams().txn_slug}},currentTarget:function(e){return{dataset:e.eventOptions.data}},_handleAdjustHoursCancel:function(e){this.fire({eventOptions:e,data:this.data()})}}),n.register("txns","monies",t.clickAdjustHoursCancelEvent)}(Hive.Analytics),function(e,t){var n=e.Invoices,i=e.EventRegistry,a=e.baseEvent;n.clickAdjustHoursSubmitEvent=Object.assign({},a,{name:"hive project monies adjustHoursStart",browserEvent:"click",selector:'[data-click="adjust-hours"]',dataCallback:function(e){return{slug:e.dataset.slug,form_data:t(e).closest("form").serialize()}}}),i.register("txns","monies",n.clickAdjustHoursSubmitEvent)}(Hive.Analytics,jQuery),function(e){var t=e.Payments,n=e.EventRegistry,i=e.baseEvent;t.clickRefundPackageEvent=Object.assign({},i,{name:"hive project monies refundPkgStart",browserEvent:"click",selector:'[data-click="refund-package"]',dataCallback:function(e){return{slug:e.dataset.slug}}}),n.register("txns","monies",t.clickRefundPackageEvent)}(Hive.Analytics),function(e){var t=e.Payments,n=e.EventRegistry,i=e.baseEvent;t.clickReimbursePaymentEvent=Object.assign({},i,{name:"hive project monies reimburseOverpaymentStart",browserEvent:"click",selector:'[data-click="reimburse"]',dataCallback:function(e){return{slug:e.dataset.slug}}}),n.register("txns","monies",t.clickReimbursePaymentEvent)}(Hive.Analytics),function(e){var t=e.Payments,n=e.EventRegistry,i=e.baseEvent;t.clickRemoveProductEvent=Object.assign({},i,{name:"hive project monies removeProductStart",browserEvent:"click",selector:'[data-click="remove-product"]',dataCallback:function(e){return{slug:e.dataset.slug}}}),n.register("txns","monies",t.clickRemoveProductEvent)}(Hive.Analytics),function(e,t){var n=e.Payments,i=e.EventRegistry,a=e.baseEvent;n.clickSwapDesignerEvent=Object.assign({},a,{name:"hive project monies swapDesignerStart",browserEvent:"click",selector:'[data-click="swap-designer"]',dataCallback:function(e){return{slug:e.dataset.slug,form_data:t(e).closest("form").serialize()}}}),i.register("txns","monies",n.clickSwapDesignerEvent)}(Hive.Analytics,jQuery),function(e){var t=e.Projects,n=e.EventRegistry,i=e.baseEvent;t.clickLogHoursStartEvent=Object.assign({},i,{name:"hive project logHoursStart",browserEvent:"click",selector:'[data-click="log-hours-start"]',dataCallback:function(e){return{package_id:parseInt(e.dataset.packageId,10),cta_position:"hive"}}}),n.register("dr","index",t.clickLogHoursStartEvent)}(Hive.Analytics),function(e){var t=e.Proposals,n=e.EventRegistry,i=e.baseEvent;t.clickEditEvent=Object.assign({},i,{name:"hive project cpf edit",browserEvent:"click",selector:'[data-click="edit-proposal"]',dataCallback:function(e){return{slug:e.getAttribute("href").split("/")[2],page_name:e.dataset.pageName}}}),n.register("dr","index",t.clickEditEvent),n.register("proposals","show",t.clickEditEvent)}(Hive.Analytics),function(e){var t=e.Proposals,n=e.EventRegistry,i=e.baseEvent;t.clickGetStartedEvent=Object.assign({},i,{name:"hive project cpf getStarted",browserEvent:"click",selector:'[data-click="get-started"]',dataCallback:function(e){return{slug:e.dataset.slug}}}),n.register("proposals","show",t.clickGetStartedEvent)}(Hive.Analytics),function(e,t){var n=e.Proposals,i=e.EventRegistry,a=e.baseEvent;n.clickReviewPurchaseEvent=Object.assign({},a,{name:"hive project cpf reviewPurchase",browserEvent:"click",selector:'[data-click="review-purchase"]',dataCallback:function(e){var n=t(e).closest("form");return{slug:e.dataset.slug,hours_selected:n.find('select[name="quantity"]').val()||0}}}),i.register("proposals","show",n.clickReviewPurchaseEvent)}(Hive.Analytics,jQuery),function(e){var t=e.Proposals,n=e.EventRegistry,i=e.baseEvent;t.clickViewEvent=Object.assign({},i,{name:"hive project cpf viewProposal",browserEvent:"click",selector:'[data-click="view-proposal"]',dataCallback:function(e){return{slug:this._slugFromTarget(e),source:e.dataset.source}},_slugFromTarget:function(e){var t=e.getAttribute("href").match(/([A-Z0-9]+)\b/);return t&&t[0]}}),n.register("static_pages","tell_a_friend",t.clickViewEvent)}(Hive.Analytics),function(e,t){var n=e.Users,i=e.EventRegistry,a=e.baseEvent;n.clickStartEvent=Object.assign({},a,{name:"site signup start",browserEvent:"click",selector:'[data-track-book-now="true"]',_pageLoaded:t(),dataCallback:function(e){return Object.assign({},this.utmData(),{signup_start:t().toDate().toISOString(),page_duration:t().diff(this._pageLoaded),flow:"default",cta_position:this.findCtaPosition(e.dataset.buttonId)})},findCtaPosition:function(e){return{header:"header",sticky_header:"sticky header",hero_banner:"hero banner",inline_cta:"inline",meet_your_designer_hiw:"step 1 hiw",design_package_hiw:"design package hiw",sds_hiw:"sds hiw",portfolio_siderail:"portfolio siderail",portfolio_lightbox:"portfolio lightbox",portfolio_footer:"sticky footer",footer:"footer",mobile_nav:"mobile nav"}[e]},utmData:function(){return Cookies.getJSON("segment_forwarder_data")||{}}}),n.focusStartEvent=Object.assign({},a,{name:"site signup start",browserEvent:"focus",selector:'[data-track-book-now-embed="true"]',_pageLoaded:t(),maxCalls:1,dataCallback:function(e){return Object.assign({},this.utmData(),{signup_start:t().toDate().toISOString(),page_duration:t().diff(this._pageLoaded),flow:"default",cta_position:this.findCtaPosition(e.closest("form").dataset.formId)})},utmData:function(){return Cookies.getJSON("segment_forwarder_data")||{}},findCtaPosition:function(e){return{"hero form":"hero form",homepage_signup:"embed form homepage"}[e]}}),i.register("tags","show",n.clickStartEvent),i.register("landing_pages","all",n.clickStartEvent),i.register("tags","show",n.focusStartEvent),i.register("landing_pages","all",n.focusStartEvent)}(Hive.Analytics,moment),function(e,t){var n=e.ShoppingList,i=e.EventRegistry,a=e.baseEvent;n.backToShoppingListEvent=Object.assign({},a,{name:"hive shopping_list checkout getQuote cancel",browserEvent:"click",selector:"[data-click='back-to-shopping-list']",dataCallback:function(){var e=t(".create-order-form");return{client_name:e.find("input[name='name']").val(),client_email:e.find("input[name='email']").val(),client_address:e.find("input[name='address']").val(),client_city:e.find("input[name='city']").val(),client_state:e.find("select[name='locale'] :selected").text(),client_zip:e.find("input[name='zipcode']").val(),client_phone:e.find("input[name='phone']").val(),shipping_notes:e.find("textarea[name='shipping_notes']").val(),rush_shipping:e.find("input[name='rush_shipping']").is(":checked"),white_glove:e.find("input[name='white_glove']").is(":checked")}}}),i.register("shoppinglist/lists","all",n.backToShoppingListEvent)}(Hive.Analytics,jQuery),function(e){var t=e.ShoppingList,n=e.EventRegistry,i=e.baseEvent;t.cancelOrderApprovalEvent=Object.assign({},i,{name:"hive shopping_list quoteRequestChange cancel",browserEvent:"click",selector:'[data-click="cancel-order-approval"]',dataCallback:function(e){return{sales_order_id:e.dataset.salesOrderId,position:e.dataset.position}}}),n.register("shoppinglist/orders","all",t.cancelOrderApprovalEvent)}(Hive.Analytics),function(e){var t=e.ShoppingList,n=e.EventRegistry,i=e.baseEvent;t.clickAddListItemEvent=Object.assign({},i,{name:"hive shopping_list addListItem start",browserEvent:"click",selector:'[data-click="add-list-item-start"]',dataCallback:function(e){return{list_id:parseInt(e.dataset.listId,10),position:e.dataset.position}}}),n.register("shoppinglist/lists","all",t.clickAddListItemEvent)}(Hive.Analytics),function(e,t){var n=e.ShoppingList,i=e.EventRegistry,a=e.baseEvent;n.clickCancelListItemEvent=Object.assign({},a,{name:"hive shopping_list addListItem cancel",browserEvent:"click",selector:'[data-click="add-list-item-cancel"]',dataCallback:function(e){var n=t(".list-item-form"),i=n.find(".list-item-form-brand input").val(),a=n.find(".list-item-form-name input").val(),r=n.find(".list-item-form-list select").find(":selected").val(),o=n.find(".list-item-form-qty select").find(":selected").val(),s=n.find(".list-item-form-price input").val(),c=n.find(".image-gallery .thumbnail").length;return{list_id:parseInt(r,10),brand:i,merchandise_name:a,quantity_requested:o,retail_price:s,images_count:c,position:e.dataset.position}}}),i.register("shoppinglist/lists","all",n.clickCancelListItemEvent)}(Hive.Analytics,jQuery),function(e,t){var n=e.ShoppingList,i=e.EventRegistry,a=e.baseEvent;n.clickReviewOrderEvent=Object.assign({},a,{name:"hive shopping_list checkout reviewOrder complete",browserEvent:"click",selector:'[data-click="review-order-start"]',dataCallback:function(){var e=t('[data-click="select-list-item-checkbox"]:checked').map(function(e,n){var i=t(n).closest(".list-item");return i?{href:i.find(".list-item-column-edit a").attr("href"),name:i.find(".list-item-column-info-name").text(),vendor:i.find(".list-item-column-info-brand").text(),quantity:i.find(".list-item-column-qty select").find(":selected").val()}:null}).toArray();return{list_items:e,list_id:t(".list-navigation-dropdown select").find(":selected").val(),total_price:t(".estimated-total-price .money").text()}}}),i.register("shoppinglist/lists","all",n.clickReviewOrderEvent)}(Hive.Analytics,jQuery),function(e,t){var n=e.ShoppingList,i=e.EventRegistry,a=e.baseEvent;n.deselectListItemCheckboxEvent=Object.assign({},a,{name:"hive shopping_list checkout reviewOrder remove",browserEvent:"change",selector:'[data-click="select-list-item-checkbox"]:not(:checked)',dataCallback:function(e){var n=e.closest(".list-item-columns-primary").querySelector(".list-item-column-info .list-item-column-info-name p");return{list_item:n.textContent,list_id:t(".list-navigation-dropdown select").find(":selected").val(),unchecked_count:t(this.selector).length}}}),i.register("shoppinglist/lists","all",n.deselectListItemCheckboxEvent)}(Hive.Analytics,jQuery),function(e,t){var n=e.ShoppingList,i=e.EventRegistry,a=e.baseEvent;n.selectListItemCheckboxEvent=Object.assign({},a,{name:"hive shopping_list checkout reviewOrder add",browserEvent:"change",selector:'[data-click="select-list-item-checkbox"]:checked',dataCallback:function(e){var n=e.closest(".list-item-columns-primary").querySelector(".list-item-column-info .list-item-column-info-name p");return{list_item:n.textContent,list_id:t(".list-navigation-dropdown select").find(":selected").val(),checked_count:t(this.selector).length}}}),i.register("shoppinglist/lists","all",n.selectListItemCheckboxEvent)}(Hive.Analytics,jQuery),function(e){var t=e.Tags,n=e.EventRegistry,i=e.baseEvent;t.clickCtaEvent=Object.assign({},i,{name:"site landingPage cta",browserEvent:"click",selector:'[data-click="tags-cta"]',dataCallback:function(e){return{cta_position:e.dataset.location,landing_page_url:e.getAttribute("href"),landing_page_cta_copy:e.textContent}}}),n.register("tags","show",t.clickCtaEvent)}(Hive.Analytics),function(e,t){var n=e.Users,i=e.EventRegistry,a=e.baseEvent;n.clickAddHoursEvent=Object.assign({},a,{name:"hive search user addHours",browserEvent:"click",selector:'[data-click="add-hours"]',exclude:function(e,n){return!t(n).find("input").val()},dataCallback:function(e){return{hours_added:this._resolveHours(e)}},_resolveHours:function(e){var t=e.find("input")[0];return parseInt(t.value||0,10)}}),i.register("users","index_angular",n.clickAddHoursEvent)}(Hive.Analytics,jQuery),function(e,t){var n=e.Users,i=e.EventRegistry,a=e.baseEvent;n.clickCancelContactDesignerEvent=Object.assign({},a,{name:"hive desSite contactCancel",browserEvent:"click",selector:'[data-track-contact-designer-close="true"]',dataCallback:function(e){var n=t("#contact_designer_form");return{designer_id:parseInt(e.dataset.designerId,10),cancel_method:e.dataset.cancelMethod,contact_name:n.find('input[name="name"]').val(),contact_email:n.find('input[name="email"]').val(),contact_zip:n.find('input[name="zip"]').val(),contact_message:n.find('textarea[name="message"]').val()}}}),i.register("designer_profiles","show",n.clickCancelContactDesignerEvent)}(Hive.Analytics,jQuery),function(e){var t=e.Users,n=e.EventRegistry,i=e.baseEvent;t.clickContactDesignerEvent=Object.assign({},i,{name:"hive desSite contactStart",browserEvent:"click",selector:'[data-track-contact-designer="true"]',dataCallback:function(e){return{designer_id:parseInt(e.dataset.designerId,10)}}}),n.register("designer_profiles","show",t.clickContactDesignerEvent)}(Hive.Analytics),function(e){var t=e.Users,n=e.EventRegistry,i=e.baseEvent;t.clickEditUserEvent=Object.assign({},i,{name:"hive user editStart",browserEvent:"click",selector:'[data-click="edit-user"]',dataCallback:function(e){return{cta_position:e.dataset.pageName,user_id:this.userIdFor(e.getAttribute("href"))}},userIdFor:function(e){return new RegExp(/\d+/).exec(e)[0]}}),n.register("dr","index",t.clickEditUserEvent),n.register("static_pages","tell_a_friend",t.clickEditUserEvent)}(Hive.Analytics),function(e){var t=e.Users,n=e.EventRegistry,i=e.baseEvent;t.clickOfferNewDesignerEvent=Object.assign({},i,{name:"hive search user offerNewDesignerStart",browserEvent:"click",selector:'[data-click="offer-to-new-designer"]',dataCallback:function(e){return{designer_id:e.dataset.designerId,client_id:e.dataset.userId}}}),n.register("users","index_angular",t.clickOfferNewDesignerEvent)}(Hive.Analytics);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function e(){var t=this;_classCallCheck(this,e),this.pageEnteredAt=moment();var n=e,i=n.queryParams.txn_slug;n.loadData(i).then(function(e){var i=e.data,a=e.included,r=i.relationships;t.txn=i,t.manifest=n.extractRelationship("manifest",r,a||[]),t.discount=n.extractRelationship("discount",r,a||[]),t.attachListeners()})}return _createClass(e,[{key:"attachListeners",value:function(){var t=e;t.$forms.find("#show-payment-form").one("click",this.handleUseDifferentCC()),t.$forms.find("#show-promo-code").one("click",this.handlePromoStart()),t.$ccDetails.find("input").one("focus",this.handleAddCcStart()),t.$forms.find("#submit-container").on("click",this.handleSubmitPaymentInactive()),Hive.mediator.subscribe("events:payments",this.handleSubmitPaymentError(),{predicate:function(e){var t=e.type,n=e.action;return"error"===t&&"submit"===n}})}},{key:"handleUseDifferentCC",value:function(){var t=this;return function(){Analytics.track("hive project monies useDiffCC",_.extend({},t.paymentEventData,t.promoCodeEventData),{onBehalfOfUserId:e.clientId})}}},{key:"handlePromoStart",value:function(){var t=this;return function(){Analytics.track("hive project monies promoStart",t.paymentEventData,{onBehalfOfUserId:e.clientId})}}},{key:"handleAddCcStart",value:function(){var t=this;return function(){e.$ccDetails.find("input").off("focus"),Analytics.track("hive project monies addCCstart",t.paymentEventData,{onBehalfOfUserId:e.clientId})}}},{key:"handleSubmitPaymentInactive",value:function(){var t=this;return function(n){var i=$(n.target).find("#lets-go:disabled").length;i&&Analytics.track("hive project monies submitPaymentInactive",_.extend({"monies payment cc fields":e.filledCcFieldIds},t.paymentEventData,t.promoCodeEventData),{onBehalfOfUserId:e.clientId})}}},{key:"handleSubmitPaymentError",value:function(){var t=this;return function(n){var i=n.message,a=e.filledCcFieldIds.length?"new":"existing";Analytics.track("hive project monies submitPaymentError",_.extend({"monies payment error":i,"monies payment cc type":a},t.paymentEventData,t.promoCodeEventData),{onBehalfOfUserId:e.clientId})}}},{key:"paymentEventData",get:function(){var e=this.txn.attributes,t=e.is_deposit,n=e.subtotal,i=e.tax,a=e.total,r=e.status,o=this.manifest.attributes,s=o.project_id,c=o.hours_purchased,l=o.is_sds_product,u=o.per_unit_price;return{"monies project ID":s,"monies payment SDS":l,"monies payment hours":c,"monies payment hourly rate":u,"monies payment subtotal":n,"monies payment tax":i,"monies payment total":a,"monies payment deposit":t,"monies payment status":r}}},{key:"promoCodeEventData",get:function(){var e=this.discount||{},t=e.attributes;t=void 0===t?{}:t;var n=t.promo_code,i=t.promo_type,a=t.dollar_off,r=t.discount,o="number"!==i,s="percentage"!==i;return{"monies promo code":n,"monies promo type":i,"monies promo dollar discount":s?a:void 0,"monies promo percentage discount":o?r:void 0}}}],[{key:"extractRelationship",value:function(e,t,n){var i=t[e].data,a=i.id,r=i.type;return n.find(function(e){return e.type==r&&e.id==a})}},{key:"loadData",value:function(e){return $.get("/v2/txns/"+e+"?include=txns.manifest,txns.discount")}},{key:"clientId",get:function(){return this.$container.data("clientId")}},{key:"filledCcFieldIds",get:function(){return this.$filledCcFields.map(function(e,t){return t.id}).get()}},{key:"$filledCcFields",get:function(){return this.$ccDetails.find("input").filter(function(e,t){return!!t.value})}},{key:"$ccDetails",get:function(){return this.$forms.find("#new-card-details")}},{key:"$forms",get:function(){return this.$container.find("form#payment-form")}},{key:"$container",get:function(){return $("#monies")}},{key:"queryParams",get:function(){return location.search.replace(/^\?/,"").split("&").filter(function(e){return""!==e}).map(function(e){return e.split("=")}).reduce(function(e,t){return e[decodeURIComponent(t[0])]=decodeURIComponent((t[1]||"").replace(/\+/g," ")),e},{})}}]),e}();e.InvoiceEventController=t}(window);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function e(){_classCallCheck(this,e),this.pageEnteredAt=moment(),this.attachListeners()}return _createClass(e,[{key:"attachListeners",value:function(){e.$forms.find("input").one("focus",this.handleFormStart())}},{key:"handleFormStart",value:function(){var e=this;return function(t){var n=moment(),i=$(t.target.form);i.find("input").off("focus"),i.one("submit",e.handleFormSubmit(n))}}},{key:"handleFormSubmit",value:function(e){var t=this;return function(n){var i=$(n.target);return i.append("<input type='hidden' name='form_start_delay_ms' value='"+e.diff(t.pageEnteredAt)+"' />"),!0}}}],[{key:"$forms",get:function(){return $("[data-behavior='login']").find("form")}}]),e}();e.LoginEventController=t}(window);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e,t){var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"clientData",value:function(){var e=(new UAParser).getResult();return _.omit({$browser:e.browser.name,$browser_version:e.browser.version,$current_url:window.location.href,$device:e.device.type,device_vendor:e.device.vendor,device_model:e.device.model,$referrer:document.referrer||"$direct",$referring_domain:this.parseDomain(document.referrer)||"$direct",$initial_referrer:this.forwarderCookieData.initialReferer||"$direct",$initial_referring_domain:this.forwarderCookieData.initialReferringDomain||"$direct",$os:e.os.name,$os_version:e.os.version,$screen_height:screen.height,$screen_width:screen.width,utm_campaign:this.forwarderCookieData.utmCampaign,utm_content:this.forwarderCookieData.utmContent,utm_medium:this.forwarderCookieData.utmMedium,utm_source:this.forwarderCookieData.utmSource,utm_term:this.forwarderCookieData.utmTerm,initial_utm_campaign:this.forwarderCookieData.initialUtmCampaign,initial_utm_content:this.forwarderCookieData.initialUtmContent,initial_utm_medium:this.forwarderCookieData.initialUtmMedium,initial_utm_source:this.forwarderCookieData.initialUtmSource,initial_utm_term:this.forwarderCookieData.initialUtmTerm,initial_google_analytics_client_id:this.googleAnalyticsClientId},function(e){return!e})}},{key:"queryString",value:function(e){return this._parsedQueryString||(this._parsedQueryString=function(e){if(""===e)return{};for(var t={},n=0;n<e.length;++n){var i=e[n].split("=");1==i.length?t[i[0]]="":t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," "))}return t}(window.location.search.substr(1).split("&"))),this._parsedQueryString[e]}},{key:"parseDomain",value:function(e){var t="";if(e){var n=e.split("/");n.length>=3&&(t=n[2])}return t}},{key:"setClientDataCookie",value:function(t){Cookies.set(e.SEGMENT_FORWARDER_CLIENT_DATA,t)}},{key:"isSegmentForwarderAnonymousIdCookieSet",value:function(){return!!Cookies.get(this.SEGMENT_FORWARDER_ANONYMOUS_ID)}},{key:"guid",value:function(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()}},{key:"s4",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"trackUrl",get:function(){return"/v2/event"}},{key:"forwarderCookieData",get:function(){return Cookies.getJSON(this.SEGMENT_FORWARDER_DATA)||{}},set:function(e){Cookies.set(this.SEGMENT_FORWARDER_DATA,e,{expires:365})}},{key:"anonymousIdCookie",set:function(e){Cookies.set(this.SEGMENT_FORWARDER_ANONYMOUS_ID,e,{expires:365})}},{key:"googleAnalyticsClientId",get:function(){return this.constructor.googleAnalyticsClientId},set:function(e){this.constructor.googleAnalyticsClientId=e}}]),e}();n.SEGMENT_FORWARDER_DATA="segment_forwarder_data",n.SEGMENT_FORWARDER_ANONYMOUS_ID="segment_forwarder_anonymous_id",n.SEGMENT_FORWARDER_CLIENT_DATA="segment_forwarder_client_data";var i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"track",value:function(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=a.superProperties,o=a.peopleProperties,s=a.onBehalfOfUserId,c={event_name:e,properties:i,super_properties:r,people_properties:o,on_behalf_of_user_id:s};return new Promise(function(e,i){t.ajax({url:n.trackUrl,type:"POST",contentType:"application/json",data:JSON.stringify(c),dataType:"text"}).done(e).fail(i)})}},{key:"handleClickLink",value:function(){return function(n){n.preventDefault();var i=t(n.target),a=i.data(),r=a.segmentTrackLink,o=a.segmentTrackProperties,s=a.segmentTrackOnBehalfOf,c=i.attr("target")||"_self";e.track(r,o,{onBehalfOfUserId:s}).then(function(){window.open(i.attr("href"),c)})["catch"](console.error)}}},{key:"utmIsPresent",value:function(){var e=["utm_campaign","utm_content","utm_medium","utm_source","utm_term"];return e.some(function(e){return n.queryString(e)})}},{key:"initialUtmIsBlank",value:function(){return!Object.keys(e.utmMap).some(function(t){return n.forwarderCookieData[e.convertToInitial(t)]})}},{key:"convertToInitial",value:function(e){return"initial"+(e.charAt(0).toUpperCase()+e.slice(1))}},{key:"initForwarderData",value:function(){var t=n.forwarderCookieData,i=function(e,n,i){t.hasOwnProperty(e)&&i||(t[e]=n)};i("initialReferer",document.referrer||"$direct",!0),i("initialReferringDomain",n.parseDomain(document.referrer)||"$direct",!0),e.utmIsPresent()&&e.initialUtmIsBlank()&&Object.keys(e.utmMap).forEach(function(t){i(e.convertToInitial(t),n.queryString(e.utmMap[t]),!0)}),e.utmIsPresent()&&Object.keys(e.utmMap).forEach(function(t){i(t,n.queryString(e.utmMap[t]),!1)}),n.forwarderCookieData=t}},{key:"initForwarderAnonymousId",value:function(){n.isSegmentForwarderAnonymousIdCookieSet()||(n.anonymousIdCookie=n.guid())}},{key:"initClientDataCookie",value:function(){n.setClientDataCookie(n.clientData())}},{key:"initGoogleAnalyticsClientId",value:function(){var t=function(t){n.googleAnalyticsClientId=t.get("clientId"),e.initClientDataCookie()},i=function(){window.ga&&(window.ga(t),window.clearInterval(a))},a=window.setInterval(i,100)}},{key:"ready",get:function(){return this._readyPromise?this._readyPromise:(this._readyPromise=new Promise(function(t){e.initForwarderData(),e.initForwarderAnonymousId(),e.initClientDataCookie(),e.initGoogleAnalyticsClientId(),t()}),this._readyPromise)}}]),e}();i.utmMap={utmCampaign:"utm_campaign",utmContent:"utm_content",utmMedium:"utm_medium",utmSource:"utm_source",utmTerm:"utm_term"},e.Analytics=i}(window,jQuery),function(e){e(function(t){var n=t.Analytics;n.ready,e(document).on("click","a[data-segment-track-link]",n.handleClickLink())}(window))}(jQuery),function(e){e.Analytics=e.Analytics||{},e.Analytics.DesignServices={},e.Analytics.ClientServices={}}(window.Hive=window.Hive||{}),function(e){var t=e.ClientServices,n=e.EventRegistry,i=e.baseEvent;t.clickAddHoursEvent=Object.assign({},i,{name:"addHours start",browserEvent:"click",selector:"[data-add-hours]"}),n.register("honeycomb/client_services/locations","show",t.clickAddHoursEvent)}(Hive.Analytics),function(e){var t=e.ClientServices,n=e.EventRegistry,i=e.baseEvent;t.clickLogoutEvent=Object.assign({},i,{name:"log out",browserEvent:"click",selector:'[data-click="log-out"]'}),n.register("honeycomb/design_services/client_locations","index",t.clickLogoutEvent),n.register("honeycomb/design_services/locations","all",t.clickLogoutEvent),n.register("honeycomb/client_services/locations","show",t.clickLogoutEvent),n.register("honeycomb/design_services/dashboards","show",t.clickLogoutEvent),n.register("shoppinglist/lists","all",t.clickLogoutEvent),n.register("shoppinglist/orders","all",t.clickLogoutEvent),n.register("design_services/disbursements","index",t.clickLogoutEvent),n.register("users","settings",t.clickLogoutEvent),n.register("txns","all",t.clickLogoutEvent),n.register("proposals","all",t.clickLogoutEvent),n.register("static_pages","tell_a_friend",t.clickLogoutEvent)}(Hive.Analytics),function(e){var t=e.ClientServices,n=e.EventRegistry,i=e.baseEvent;t.clickEditUserEvent=Object.assign({},i,{name:"hive user editStart",browserEvent:"click",selector:'[data-click="edit-user"]',dataCallback:function(e){return{cta_position:e.dataset.pageName,user_id:this.userIdFor(e.getAttribute("href"))}},userIdFor:function(e){return new RegExp(/\d+/).exec(e)[0]}}),n.register("honeycomb/design_services/client_locations","index",t.clickEditUserEvent),n.register("honeycomb/design_services/locations","all",t.clickEditUserEvent),n.register("honeycomb/client_services/locations","show",t.clickEditUserEvent),n.register("honeycomb/design_services/dashboards","show",t.clickEditUserEvent),n.register("shoppinglist/lists","all",t.clickEditUserEvent),n.register("shoppinglist/orders","all",t.clickEditUserEvent),n.register("design_services/disbursements","index",t.clickEditUserEvent),n.register("users","settings",t.clickEditUserEvent),n.register("txns","all",t.clickEditUserEvent),n.register("proposals","all",t.clickEditUserEvent),n.register("static_pages","tell_a_friend",t.clickEditUserEvent)}(Hive.Analytics),function(e){var t=e.ClientServices,n=e.EventRegistry,i=e.baseEvent;t.clickViewInvoiceEvent=Object.assign({},i,{name:"hive project monies view",browserEvent:"click",selector:'[data-click="view-invoice"]',dataCallback:function(e){return{invoice_status:e.dataset.invoiceStatus}}}),n.register("honeycomb/client_services/locations","show",t.clickViewInvoiceEvent)}(Hive.Analytics),function(e){var t=e.ClientServices,n=e.EventRegistry,i=e.baseEvent;t.clickViewProposalEvent=Object.assign({},i,{name:"hive project cpf viewProposal",browserEvent:"click",selector:'[data-click="view-proposal"]',dataCallback:function(e){return{slug:this._slugFromTarget(e),source:e.dataset.source}},_slugFromTarget:function(e){var t=e.getAttribute("href").match(/([A-Z0-9]+)\b/);return t&&t[0]}}),n.register("honeycomb/client_services/locations","show",t.clickViewProposalEvent)}(Hive.Analytics),function(e){var t=e.DesignServices,n=e.EventRegistry,i=e.baseEvent;t.clickAcceptOfferCancelEvent=Object.assign({},i,{name:"acceptClient cancel",browserEvent:"click",selector:'[data-click="cancel-accept"]',dataCallback:function(e){return{offer_id:e.dataset.offerId,cta_position:e.dataset.ctaPosition}}}),n.register("honeycomb/design_services/dashboards","show",t.clickAcceptOfferCancelEvent)}(Hive.Analytics),function(e){var t=e.DesignServices,n=e.EventRegistry,i=e.baseEvent;
t.clickAcceptOfferEvent=Object.assign({},i,{name:"acceptClient start",browserEvent:"click",selector:'[data-click="start-accept"]',dataCallback:function(e){return{offer_id:e.dataset.offerId,cta_position:e.dataset.ctaPosition}}}),n.register("honeycomb/design_services/dashboards","show",t.clickAcceptOfferEvent)}(Hive.Analytics),function(e){var t=e.DesignServices,n=e.EventRegistry,i=e.baseEvent;t.clickContactStakeholderEvent=Object.assign({},i,{name:"contact stakeholder",browserEvent:"click",selector:"[data-contact-stakeholder]",dataCallback:function(e){return{contact_type:e.dataset.contactStakeholder,contact_id:e.dataset.contactId,cta_position:e.dataset.ctaPosition}}}),n.register("honeycomb/design_services/client_locations","index",t.clickContactStakeholderEvent),n.register("honeycomb/design_services/locations","all",t.clickContactStakeholderEvent),n.register("honeycomb/client_services/locations","show",t.clickContactStakeholderEvent)}(Hive.Analytics),function(e){var t=e.DesignServices,n=e.EventRegistry,i=e.baseEvent;t.clickEmailMiaEvent=Object.assign({},i,{name:"email about ClientMIA",browserEvent:"click",selector:"[data-email-mia]",dataCallback:function(e){return{client_id:e.dataset.clientId,cta_position:e.dataset.ctaPosition}}}),n.register("honeycomb/design_services/client_locations","index",t.clickEmailMiaEvent)}(Hive.Analytics),function(e){var t=e.DesignServices,n=e.EventRegistry,i=e.baseEvent;t.clickEmailTimesUpEvent=Object.assign({},i,{name:"email about TimesUp",browserEvent:"click",selector:"[data-email-times-up]",dataCallback:function(e){return{client_id:e.dataset.clientId,cta_position:e.dataset.ctaPosition}}}),n.register("honeycomb/design_services/client_locations","index",t.clickEmailTimesUpEvent)}(Hive.Analytics),function(e){var t=e.DesignServices,n=e.EventRegistry,i=e.baseEvent;t.clickExpandOfferEvent=Object.assign({},i,{name:"view expanded offer",browserEvent:"click",selector:'[data-click="expand-offer"]',dataCallback:function(e){return{offer_id:e.dataset.offerId}}}),n.register("honeycomb/design_services/dashboards","show",t.clickExpandOfferEvent)}(Hive.Analytics),function(e){var t=e.DesignServices,n=e.EventRegistry,i=e.baseEvent;t.clickLogHoursStartEvent=Object.assign({},i,{name:"hive project logHoursStart",browserEvent:"click",selector:'[data-click="log-hours-start"]',dataCallback:function(e){var t=JSON.parse(e.dataset.logHours).hourPackages;return{package_id:t[0].id,cta_position:e.dataset.ctaPosition}}}),n.register("honeycomb/design_services/client_locations","index",t.clickLogHoursStartEvent),n.register("honeycomb/design_services/locations","show",t.clickLogHoursStartEvent)}(Hive.Analytics),function(e){var t=e.DesignServices,n=e.EventRegistry,i=e.baseEvent;t.clickRejectOfferCancelEvent=Object.assign({},i,{name:"rejectClient cancel",browserEvent:"click",selector:'[data-click="cancel-reject"]',dataCallback:function(e){return{offer_id:e.dataset.offerId,cta_position:e.dataset.ctaPosition}}}),n.register("honeycomb/design_services/dashboards","show",t.clickRejectOfferCancelEvent)}(Hive.Analytics),function(e){var t=e.DesignServices,n=e.EventRegistry,i=e.baseEvent;t.clickRejectOfferEvent=Object.assign({},i,{name:"rejectClient start",browserEvent:"click",selector:'[data-click="start-reject"]',dataCallback:function(e){return{offer_id:e.dataset.offerId,cta_position:e.dataset.ctaPosition}}}),n.register("honeycomb/design_services/dashboards","show",t.clickRejectOfferEvent)}(Hive.Analytics),function(e){function t(t){var i=e(t.target),a=e(i.data("image-gallery-expand"));n(a),i.remove()}function n(t){var n=t.find("[data-image-lazy-load]");n.each(function(t,n){return i(e(n))})}function i(e){var t=r(e),n=t.target,i=t.src,o=t.displayMethod;a(n,i,o),e.show()}function a(e,t,n){"background-image"===n?e.attr("style","background-image: url("+t+");"):e.attr("src",t)}function r(e){return{target:o(e),src:e.data("image-src"),displayMethod:e.data("image-display-method")}}function o(t){var n=t.data("image-target");return n?e(t.find(n)):t}e(document).on("click","[data-image-gallery-expand]",t)}(jQuery),function(e){e(document).on("click","[data-section-scroll-target]",function(t){t.preventDefault();var n=e(t.currentTarget),i=e(n.data("section-scroll-target")),a=n.data("section-scroll-padding")||0,r=n.data("section-scroll-speed")||1e3;n.addClass("section-scroll-active");var o=e(".main-container");o.animate({scrollTop:i.offset().top+o.scrollTop()-a},r,function(){return n.removeClass("section-scroll-active")})})}(jQuery),function(){$(document).on("click","[data-accordion-trigger]",function(e){jQuery(this).parent().find(".submenu").slideToggle("fast"),jQuery(this).parent().toggleClass("is-expanded"),jQuery(this).parent().find(".v1-icon-add").toggleClass("rotate"),e.preventDefault()})}(),function(){$(document).ready(function(){$(document).on("click",".close.link",function(){$(this).closest(".alert").hide()})})}(),function(e){e.fn.clientReviewCarousel=function(){return this.each(function(){function t(){return r.find(".owl-item.active [data-slide-index]").data("slideIndex")}function n(t){return e(r.find(".owl-item [data-slide-index]")[t]).data("slideIndex")}function i(e){return o.children('[data-slide-index="'+e+'"]')}var a=e(this),r=a.find("[data-owl-carousel]"),o=a.find(".client-review-content-container");r.owlCarousel({center:!0,loop:!0,items:1,dots:!0,touchDrag:!0,mouseDrag:!1,autoplay:!0,autoplayTimeout:4e3,onChanged:function(e){if("position"===e.property.name){var a=t(),r=n(e.property.value);i(a).hide(),i(r).show()}}}),a.on("mouseenter",function(){r.trigger("stop.owl.autoplay")}),a.on("mouseleave",function(){r.trigger("play.owl.autoplay")})})}}(jQuery);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){function t(t){function n(t){e(t.target).is(".lightbox-modal-backdrop, .lightbox-modal")&&a()}function i(e){27===e.keyCode?a():32===e.keyCode||39===e.keyCode?l.nextImage():37===e.keyCode&&l.previousImage()}function a(){l.close(),e("body").off("click",".lightbox-modal-backdrop, .lightbox-modal",n),e(".close-modal").off("click"),e(".prev-abs").off("click"),e(".next-abs").off("click"),e(document).off("keyup",i)}t.preventDefault();var r=e(t.currentTarget),s=r.data("lightbox-gallery-index"),c=r.closest("[data-lightbox-gallery]"),l=new o(c,s);l.show(),e("body").on("click",".lightbox-modal-backdrop, .lightbox-modal",n),e(".close-modal").on("click",function(){return a()}),e(".prev-abs").on("click",function(){return l.previousImage()}),e(".next-abs").on("click",function(){return l.nextImage()}),e(document).on("keyup",i)}var n="lightbox-modal",i="lightbox-modal-backdrop",a="lightbox-modal-backdrop",r="lightbox-modal-open";if(0!==e("#"+n).length){var o=function(){function t(i,a){_classCallCheck(this,t),this._modal=e("#"+n),this._gallery=i,this._images=this._gallery.find("[data-lightbox-gallery-image]"),this._showContent(a)}return _createClass(t,[{key:"show",value:function(){this._modal.show(),s.createBackdrop(this._modal.hasClass("with-nav-tabs"))}},{key:"close",value:function(){this._clearContent(),this._modal.hide(),s.removeBackdrop(),this._gallery.trigger("imageLightbox.closed")}},{key:"nextImage",value:function(){this._lastImageDisplayed()||this._showContent(this._currentIndex+1)}},{key:"previousImage",value:function(){this._firstImageDisplayed()||this._showContent(this._currentIndex-1)}},{key:"_getCurrentImage",value:function(){return this._gallery.find("[data-lightbox-gallery-index="+this._currentIndex+"]")}},{key:"_showContent",value:function(e){this._clearContent(),this._currentIndex=e,this._setModalContent(this._getCurrentImage()),this._gallery.trigger("imageLightbox.changed",{index:e})}},{key:"_clearContent",value:function(){this._modal.find(".modal-body").html("")}},{key:"_setModalContent",value:function(e){this._setPreviewIndex(e),this._refreshNavArrowVisibility();var t=this._modal.find(".modal-body");t.html(s.getContent(e)),s.initializeImages(t)}},{key:"_setPreviewIndex",value:function(){this._modal.find(".mobile-index").text(this._currentIndex+" of "+this._images.length)}},{key:"_firstImageDisplayed",value:function(){return 1===this._currentIndex}},{key:"_lastImageDisplayed",value:function(){return this._currentIndex===this._images.length}},{key:"_refreshNavArrowVisibility",value:function(){this._modal.find(".prev-abs").toggle(!this._firstImageDisplayed()),this._modal.find(".next-abs").toggle(!this._lastImageDisplayed())}}]),t}(),s=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"createBackdrop",value:function(t){if(!e("#"+i).length){var n=e("body"),a=e('<div id="'+i+'" class="'+this.fullModalBackdropClass(t)+'"></div>');n.addClass(r),n.append(a)}}},{key:"removeBackdrop",value:function(){e("#"+i).remove(),e("body").removeClass(r)}},{key:"getContent",value:function(e){return e.find("[data-lightbox-content]").clone().html()}},{key:"initializeImages",value:function(t){var n=this,i=t.find("[data-img-src]");i.each(function(t,i){return n.initializeImage(e(i))})}},{key:"initializeImage",value:function(t){var n=this,i=t.data(),a=i.imgSrc,r=i.imgClass,o=e(new Image);o.hide(),t.replaceWith(o),o.attr("src",a),o.one("load",function(){o.addClass(n.imageOrientationClass(o[0])).addClass(r),o.show()})}},{key:"imageOrientationClass",value:function(e){return e.height>e.width?"lightbox-image-portrait":"lightbox-image-landscape"}},{key:"fullModalBackdropClass",value:function(e){return(a+" "+(e?"with-nav-tabs":"")).trim()}}]),t}();e(document).on("click","[data-lightbox-gallery] [data-lightbox-gallery-image]",t)}}(jQuery),function(e){function t(){d.width()>=768||(a()?n():i(),v.toggleClass(y),g.toggleClass(y),p.toggleClass(y),k&&h.toggleClass("hp-header--mobile-nav-open"))}function n(){s()}function i(){c(),r(),v.trigger("touchmove")}function a(){return v.hasClass(y)}function r(){v.css({top:o()})}function o(){return h&&h.outerHeight()-d.scrollTop()||0}function s(){e("body").css({height:"",overflow:"",position:"",width:""})}function c(){e("body").css({height:"100%",overflow:"hidden",position:"fixed",width:"100%"})}function l(){var e=f.outerHeight()-v.outerHeight()-v.scrollTop();e<=0?m.fadeOut(200):m.fadeIn(200)}function u(){a()&&r()}var d=e(window),v=e("#mobile-nav-menu"),f=v.find(".menu-content"),g=e("#mobile-nav-buttons"),m=g.find(".scroll-shadow"),h=e("#header"),p=h.find("[data-mobile-nav-menu-toggle]"),k=h.hasClass("hp-header--transparent"),y="mobile-nav-menu-open";e(document).on("click","[data-mobile-nav-menu-toggle]",t),v.on("touchmove",l),d.on("resize",u)}(jQuery),$(function(){var e=$(".bn_availability_text_area"),t=$(".bn-availability");$(".book-now-demo-form").on("submit",function(n){return e.val().length>5||(t.addClass("fill-out-text-area"),void n.preventDefault())}),e.on("blur",function(){$(this).val().length>5?t.removeClass("fill-out-text-area"):t.addClass("fill-out-text-area")})}),$(function(){var e=void 0,t=void 0,n=void 0,i=void 0,a=void 0;e=$("#event_first_field"),t=$("#event_last_field"),n=$("#event_start"),a=$("#event_phone_help_clicked"),i=$(".sign-up-flow-container input, select, .bn-signup-embed input").not(":input[type=submit], :input[type=hidden]"),n.val(Date.now());var r=function(t){""==e.val()&&e.val(t.attr("name"))};i.on("focus",function(){var e=$(this);t.val(e.attr("name")),r($(this))}),$(".tool-tip-trigger").mouseenter(function(){a.val("true")})}),$(function(){$(".reno-checkbox").change(function(){$(".bn-reno").toggleClass("bn-reno-expanded"),$(this).is(":checked")?$(".bn-vision").addClass("vision-required"):$(".bn-vision").removeClass("vision-required")}),$(".bn-reno .bn-checkbox").change(function(){$(".bn-reno .bn-checkbox:checked").length>0?$(".bn-reno").addClass("at_least_one_is_checked"):$(".bn-reno").removeClass("at_least_one_is_checked")}),$(".bn-more-container .book-now-form").submit(function(e){if($(".reno-checkbox").is(":checked")){if($(".bn-reno .bn-checkbox:checked").length>0&&$(".vision_text_area").val().length>5)return!0;$(".vision_text_area").val().length<5?($(".bn-vision").addClass("fill-out-text-area"),e.preventDefault()):e.preventDefault()}})});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=null,n=function(){function e(t){_classCallCheck(this,e),this.$$component=t,this.bindFunctions(),this.initializeEvents()}return _createClass(e,null,[{key:"initAll",value:function(t){var n="[data-dropdown-component]";t.querySelectorAll(n).forEach(function(t){return e.init(t)})}},{key:"init",value:function(t){new e(t)}}]),_createClass(e,[{key:"bindFunctions",value:function(){this.onWindowClick=this.onWindowClick.bind(this)}},{key:"initializeEvents",value:function(){this.$$trigger.addEventListener("click",this.onTriggerClick.bind(this))}},{key:"hideDropdown",value:function(){this.$$dropdown.classList.remove("dropdown--visible"),t=null}},{key:"toggleDropdownVisibility",value:function(){this.$$dropdown.classList.contains("dropdown--visible")?this.hideDropdown():(null!=t&&t.contains(this.$$dropdown)||window.dispatchEvent(new Event("click")),t=this.$$dropdown,this.$$dropdown.classList.add("dropdown--visible"))}},{key:"onTriggerClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleDropdownVisibility(),window.addEventListener("click",this.onWindowClick)}},{key:"onWindowClick",value:function(){window.removeEventListener("click",this.onWindowClick),this.hideDropdown()}},{key:"$$trigger",get:function(){return this.$$component.querySelector("[data-dropdown-trigger]")}},{key:"$$dropdown",get:function(){return this.$$component.querySelector("[data-dropdown]")}}]),e}();e.DropdownComponent=n}(window);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function(e,t,n){for(var i=!0;i;){var a=e,r=t,o=n;i=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,r);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=r,n=o,i=!0,s=l=void 0}};!function(e){var t=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.$$valueField.component=this}return _inherits(t,e),_createClass(t,null,[{key:"initAll",value:function(e){var n="[data-dropdown-select-component]";e.querySelectorAll(n).forEach(function(e){return t.init(e)})}},{key:"init",value:function(e){new t(e)}}]),_createClass(t,[{key:"initializeEvents",value:function(){var e=this;this.$$trigger.addEventListener("click",this.onTriggerClick.bind(this)),Array.from(this.$$dropdownListItems,function(t){t.addEventListener("click",e.onListItemClick.bind(e))})}},{key:"updateDisplay",value:function(){var e=this;Array.from(this.$$dropdownListItems).forEach(function(t){t.getAttribute("data-dropdown-list-item-value")===e.value?(t.classList.add("dropdown__list-item--active"),e.$$trigger.querySelector(".dropdown__trigger--value").innerHTML=t.innerHTML):t.classList.remove("dropdown__list-item--active")})}},{key:"onListItemClick",value:function(e){var t=e.currentTarget.getAttribute("data-dropdown-list-item-value");this.value=t,this.$$valueField.dispatchEvent(new Event("change",{bubbles:!0}))}},{key:"$$dropdownListItems",get:function(){return this.$$dropdown.querySelectorAll("[data-dropdown-list-item]")}},{key:"$$valueField",get:function(){return this.$$component.querySelector("[data-dropdown-value]")}},{key:"value",get:function(){return this.$$valueField.value},set:function(e){this.$$valueField.value=e,this.updateDisplay()}}]),t}(DropdownComponent);e.DropdownSelectComponent=t}(window);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.$$component=t,this.initializeEvents()}return _createClass(e,null,[{key:"initAll",value:function(t){var n="[data-dropdown-remote-component]";t.querySelectorAll(n).forEach(function(t){return e.init(t)})}},{key:"init",value:function(t){new e(t)}}]),_createClass(e,[{key:"initializeEvents",value:function(){this.$$component.addEventListener("click",this.triggerClick.bind(this))}},{key:"triggerClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.$$targetDropdownTrigger.dispatchEvent(new Event("click"))}},{key:"$$targetDropdown",get:function(){var e=this.$$component.getAttribute("data-dropdown-remote-target");return document.querySelector(e)}},{key:"$$targetDropdownTrigger",get:function(){return this.$$targetDropdown.querySelector("[data-dropdown-trigger]")}}]),e}();e.DropdownRemoteComponent=t}(window);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.$$opener=t,this.initializeEvents()}return _createClass(e,null,[{key:"initAll",value:function(t){t.querySelectorAll("[data-open-drawer]").forEach(function(t){return e.init(t)})}},{key:"init",value:function(t){new e(t)}}]),_createClass(e,[{key:"initializeEvents",value:function(){var e=this;this.activeDrawer=null,this.$$opener.addEventListener("click",function(t){return t.preventDefault(),t.stopPropagation(),null!=e.activeDrawer?void e.activeDrawer.close():void window.picoModal({content:e.$$drawer.innerHTML,closeClass:"drawer__close",closeStyles:{},modalClass:"drawer__wrapper",modalStyles:{position:"absolute",top:"0",right:"0",left:"initial",width:"initial",height:"100%",transform:"initial",maxHeight:"100%"},overlayClass:"drawer__overlay",overlayStyles:{position:"absolute"},focus:!1,parent:e.drawerParentSelector}).beforeShow(function(t){e.activeDrawer=t,e.$$opener.classList.add("active")}).afterClose(function(t){e.activeDrawer=null,e.$$opener.classList.remove("active"),t.destroy()}).show()})}},{key:"drawerName",get:function(){return this.$$opener.dataset.openDrawer}},{key:"$$drawer",get:function(){return document.querySelector("[data-drawer='"+this.drawerName+"']")}},{key:"drawerParentSelector",get:function(){return this.$$drawer.dataset.drawerParent}}]),e}();e.Drawer=t}(window),function(e){var t="DOMContentLoaded",n=function(){e.removeEventListener(t,n);var i=window.DropdownComponent,a=window.DropdownSelectComponent,r=window.DropdownRemoteComponent,o=window.Drawer;i.initAll(e),a.initAll(e),r.initAll(e),o.initAll(e)};e.addEventListener(t,n)}(document);